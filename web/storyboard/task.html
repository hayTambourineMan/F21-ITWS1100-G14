<!DOCTYPE html>
<html lang="en">
  <head>
    <title>My Task</title>
    <meta charset="utf-8">
    <link href="../resources/style.css" rel= "stylesheet" type= "text/css"/>
    <a href= "index.html">
      <img src="../resources/Logo.png" alt= "Logo" height="100px" width="100px">
    </a>
  </head>

  <body id = "addtask">

    <div id="mySidenav" class="sidenav">
      <a href="index.html" id="index">Do ITWS</a>
      <a href="me.html" id="me">Me</a>
      <a href="task.html" id="task">Add Task</a>
      <a href="../welcome.html" id="logout">Logout</a>
    </div>

    <!-- Task Page -->
     <div class="container">
      <h1>Add Your Task!</h1>
        <form action="index.html">
          <label for="name">Task</label>
          <br />
          <input type="text" id="name" name="myTask" placeholder="task Name" required>
          <br />
          <input type="checkbox" id="prio" name="prio">
          <label for="prio"> Priority? </label>
          <br /> <br />
          <label for="due">Due Date:</label>
          <input type="date" id="due" name="due" required>
          <br /><br />
          <label for="time">Time Due:</label>
          <input type="time" id="time" name="time">
          <br /><br />
          <input id="submitTask" type="submit" value="Submit"></input>
        </form>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>
        <a href="index.html">Home</a> |
        <a href="https://github.com/hayTambourineMan/F21-ITWS1100-G14">About Us</a> |
        <a href="https://github.com/hayTambourineMan/F21-ITWS1100-G14">Contact Us</a> |
        <a href="https://github.com/hayTambourineMan/F21-ITWS1100-G14/blob/main/.github/SECURITY.md">Security</a>
      </p>
    </div>

    <!-- Get Form Data -->
    <script>
      let storage = window.localStorage;
      document.getElementById("submitTask").addEventListener("click", function() {
        const taskName = document.getElementById("name").value;
        const priority = document.getElementById("prio").checked;
        const due = document.getElementById("due").value;
        const time = document.getElementById("time").value;
        if (taskName==='' || due===''){
          return;
        }else{
          storage[taskName] = JSON.stringify([priority, due, time]);
        }
      });

    </script>

  </body>
</html>